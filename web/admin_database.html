<!-- <%@page import="java.sql.*"%>
<%@page import="java.io.PrintWriter"%> -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

    <title>Reservations</title>
</head>

<body>
    <!-- <%
            if (session.getAttribute("sessionTest") == null || session == null) {
                response.sendRedirect("landing_page.html");
                return;
            }
            response.setHeader("Cache-control", "no-cache, no-store, must-revalidate");
        %> -->
    <header-component></header-component>
    <div class="container-fluid p-3 pb-sm-0 p-sm-5 ">
        <div class="row g-0 mb-5 justify-content-center justify-content-sm-between m-0 mx-sm-5">
            <div style="width: auto;">
                <h1>Reservations</h1>
                <hr class="color-green opacity-100" style="height: 2px;">
            </div>
            <div class="text-end mx-5" style="width: auto;">
                <h6>
                    Signed in as:
                    <!-- Add Username Here -->
                </h6>
                <button class="btn btn-primary">Log Out</button>
            </div>
        </div>
        <div class="row g-0 justify-content-center justify-content-sm-between flex-wrap">
            <div style="width: auto;" class="p-0 m-1">
                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="" data-bs-toggle="dropdown">
                  Sorting by: Name
                </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Sorting by: Name</a></li>
                        <li><a class="dropdown-item" href="#">Sorting by: Date</a></li>
                        <li><a class="dropdown-item" href="#">Sorting by: no. of Persons</a></li>
                    </ul>
                </div>
            </div>
            <div style="width: auto;" class="p-0 m-1">
                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="" data-bs-toggle="dropdown">
                  Ascending
                </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Ascending</a></li>
                        <li><a class="dropdown-item" href="#">Descending</a></li>
                    </ul>
                </div>
            </div>
            <div style="width: auto;" class="p-0 m-1">
                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="" data-bs-toggle="dropdown">
                  Searching in: First Name
                </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Searching in: First Name</a></li>
                        <li><a class="dropdown-item" href="#">Searching in: Last Name</a></li>
                        <li><a class="dropdown-item" href="#">Searching in: Date</a></li>
                        <li><a class="dropdown-item" href="#">Searching in: Number</a></li>
                        <li><a class="dropdown-item" href="#">Searching in: Email</a></li>
                        <li><a class="dropdown-item" href="#">Searching in: no. of Persons</a></li>
                    </ul>
                </div>
            </div>
            <div style="width: auto;" class="p-0 m-1">
                <input type="text" class="form-control" placeholder="Search:">
            </div>
            <div style="width: auto;" class="p-0 m-1">
                <button class="btn btn-primary">Print PDF</button>
            </div>
        </div>

    </div>

    <div class="container-fluid p-3">
        <!-- One Instance of a Reservation -->
        <div class="row g-0 align-items-center justify-content-center justify-content-sm-between p-1 p-sm-4 my-3 border rounded" style="border-color:darkgray; word-wrap:break-word;">
            <div class="card border-0 my-2" style="width: auto;">
                <h1 class="card-header bg-white border-0">
                    <!-- Insert First and Last Name Here -->
                    Jamielle Velasquez
                </h1>
                <h6 class="card-subtitle py-2 px-3">
                    <!-- Insert Date Here -->
                    03/03/01
                </h6>
            </div>
            <ul class="list-group list-group-flush my-2" style="width: auto;">
                <!-- Insert Number of Persons Here -->
                <li class="list-group-item flex-fill border-0">Group of 10</li>
                <!-- Insert Phone Number Here -->
                <li class="list-group-item flex-fill border-0">0945-299-6697</li>
                <!-- Insert Email Here -->
                <li class="list-group-item flex-fill border-0">jamielle.velasquez.iics@ust.edu.ph</li>
            </ul>
            <div class=" my-2" style="width: auto;">
                <button class="btn btn-success text-white mb-3">Edit</button>
                <br>
                <button class="btn btn-danger">Delete</button>
            </div>
        </div>
        <!-- One Instance of a Reservation -->
        <div class="row g-0 align-items-center justify-content-center justify-content-sm-between p-1 p-sm-4 my-3 border rounded" style="border-color:darkgray; word-wrap:break-word;">
            <div class="card border-0 my-2" style="width: auto;">
                <h1 class="card-header bg-white border-0">
                    <!-- Insert First and Last Name Here -->
                    Jamielle Velasquez
                </h1>
                <h6 class="card-subtitle py-2 px-3">
                    <!-- Insert Date Here -->
                    03/03/01
                </h6>
            </div>
            <ul class="list-group list-group-flush my-2" style="width: auto;">
                <!-- Insert Number of Persons Here -->
                <li class="list-group-item flex-fill border-0">Group of 10</li>
                <!-- Insert Phone Number Here -->
                <li class="list-group-item flex-fill border-0">0945-299-6697</li>
                <!-- Insert Email Here -->
                <li class="list-group-item flex-fill border-0">jamielle.velasquez.iics@ust.edu.ph</li>
            </ul>
            <div class=" my-2" style="width: auto;">
                <button class="btn btn-success text-white mb-3">Edit</button>
                <br>
                <button class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
    <!-- 
    </div>
    <div class="navbar-links">
        <ul>
            <li><a href="logout.do">Logout</a></li>
        </ul>
    </div>
    <div class="databaseDisplay">
        <table border="3" width="100%" cellspacing="2" cellpadding="2">
            <tr>
                <td>FNAME</td>
                <td>LNAME</td>
                <td>CPNUMBER</td>
                <td>EMAIL</td>
                <td>DATE</td> -->
    <!-- Pag gumagana na ung DATE
            </tr>
            <%
                try {

                    //Register driver
                    Class.forName(getServletContext().getInitParameter("jdbcClassName"));
                    System.out.println("Loaded driver.");

                    //Use String buffer for connection
                    StringBuffer buff = new StringBuffer(getServletContext().getInitParameter("jdbcDriverURL"))
                            .append("://").append(getServletContext().getInitParameter("dbHostName"))
                            .append(":").append(getServletContext().getInitParameter("dbPort"))
                            .append("/").append(getServletContext().getInitParameter("databaseName"));
                    //jdbc:derby://localhost:1527/KaEntengRestaurantToTableDB

                    //Establish connection
                    Connection con = DriverManager.getConnection(buff.toString(),
                            getServletContext().getInitParameter("dbUserName"), getServletContext().getInitParameter("dbPassword"));
                    System.out.println("You are now connected.");
                    String query = "SELECT * FROM RESERVATIONDB";
                    PreparedStatement pStmt = con.prepareStatement(query);
                    ResultSet rs = pStmt.executeQuery();
                    while (rs.next()) {
            %>
            <tr>
                <td><%out.print(rs.getString("FNAME")); %></td>
                <td><%out.print(rs.getString("LNAME")); %></td>
                <td><%out.print(rs.getInt("CPNUMBER"));%></td>
                <td><%out.print(rs.getString("EMAIL"));%></td>
                <td><%//out.print(rs.getString("DATE"));%></td> Pag gumagana na ung DATE
            </tr>
            <%
                }
            %>
        </table>
        <%
                rs.close();
                pStmt.close();
                con.close();
            } catch (Exception e) {
                e.printStackTrace();
            }
        %>
    </div> -->
    <footer-component></footer-component>
    <script src="script.js" type="text/javascript" defer></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>

</html>